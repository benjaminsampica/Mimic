@page "/"

<MudGrid>
    <MudItem xs="12">
        <MudText Align="Align.Center" Typo="Typo.h1">
            Items <MudFab Color="Color.Primary" StartIcon="@Icons.Material.Filled.Add" OnClick="() => _showAddForm = !_showAddForm"/>
        </MudText>
        @if(_showAddForm)
        {
            <Add OnSuccessfulSubmit=LoadDataAsync/>
        }
    </MudItem>
    <MudItem xs="12">
        @if(_result is null)
        {
            <MudAlert Severity="Severity.Info">
                There's no items yet! Add some!
            </MudAlert>
        }
        else
        {
            <MudTable Dense=true Items=_result.Items Outlined=false Bordered=false>
                <HeaderContent>
                    <MudTh Style="width: 20%;">
                        Actions
                    </MudTh>
                    <MudTh>
                        Summary
                    </MudTh>
                </HeaderContent>
                <RowTemplate>
                    <MudTd>
                        <MudIconButton Color=Color.Dark Icon=@Icons.Outlined.ContentCopy Variant=Variant.Filled></MudIconButton>
                        <MudIconButton Color=Color.Error Icon=@Icons.Outlined.Delete Variant=Variant.Filled OnClick="() => DeleteAsync(context.Id)"></MudIconButton>
                    </MudTd>
                    <MudTd>
                        @context.Summary
                    </MudTd>
                </RowTemplate>
            </MudTable>
        }
    </MudItem>
</MudGrid>